# https://raw.githubusercontent.com/ivankatliarchuk/dotfiles/master/zsh/zshrc
umask 077
# Created by dotfiles
[[ "$TERM" == "screen" ]] && export TERM=screen-256color


[[ -f ~/.zsh/functions/eval.zsh ]] && source ~/.zsh/functions/eval.zsh # source values
for f in $(compaudit);do sudo chmod -R 755 $f;done;

# load custom executable functions
for function in ~/.zsh/functions/*; do
  source $function
done

[[ -f ~/.functions ]] && source ~/.functions     # Global Functions
[[ -f ~/local/.zshrc ]] && source ~/local/.zshrc # Local config
[[ -f ~/.exports ]] && source ~/.exports         # Exports

# aliases
[[ -f ~/.aliases ]] && source ~/.aliases
[[ -f ~/.aliases.local ]] && source ~/.aliases.local
[[ -f ~/.tmuxp/aliases ]] && source ~/.tmuxp/aliases

[[ -f ~/.zsh/settings.zsh ]] && source ~/.zsh/settings.zsh # Settings

# Ensure that a non-login, non-interactive shell has a defined environment.
if [[ ( "$SHLVL" -eq 1 && ! -o LOGIN ) && -s "${ZDOTDIR:-$HOME}/.zprofile" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprofile"
fi

if [[ -n "$TMUX" ]] ;then
export CURRENTPWD=$PWD
export STARSHIP_CONFIG=~/.config/starship/starship.tmux.toml
eval "$(starship init zsh)"
else
export STARSHIP_CONFIG=~/.config/starship/starship.toml
eval "$(starship init zsh)"
fi

# @todo move it out
[[ -s "~/.gvm/scripts/gvm" ]] && source "~/.gvm/scripts/gvm"

# Add RVM to PATH for scripting. Make sure this is the last PATH variable change.
export PATH="$PATH:$HOME/.rvm/bin"

[[ -s "/Users/ivankatliarchuk/.gvm/scripts/gvm" ]] && source "/Users/ivankatliarchuk/.gvm/scripts/gvm"
