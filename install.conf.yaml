# https://raw.githubusercontent.com/ivankatliarchuk/dotfiles/master/dotbot.conf.yaml
- defaults:
    link:
      create: true
      relink: true

- clean:
    ~/:
      force: true
    ~/.config:
      force: true
      recursive: true

- create:
    - ~/undo-history
    - ~/locals
    - ~/Library/ApplicationSupport/iTerm2/DynamicProfiles
    - ~/.tmuxp
    - ~/.config/mc
    - ~/.config/gitcfg.local
    - ~/.config/hub

- link:
    ~/.vimrc: vim/vimrc
    ~/.gitconfig: git/gitconfig
    ~/.gitattributes: git/gitattributes
    ~/.config/gitcfg: git/gitcfg
    ~/.aliases: shell/aliases
    ~/.bashrc: shell/bashrc
    ~/.exports: shell/exports
    ~/.functions: shell/functions
    ~/.profile: shell/profile
    ~/.config/manage/python: shell/manage-python
    ~/.locals: locals
    ~/.zshrc: zsh/zshrc
    ~/.zshenv: zsh/settings/zshenv
    ~/.zprofile: zsh/settings/zprofile
    ~/.zsh/functions: zsh/functions
    ~/.zsh/settings: zsh/settings
    ~/.zpreztorc: zsh/settings/zpreztorc
    ~/.gnupg/gpg.conf: tools/gnupg/gpg.conf
    ~/.gnupg/gpg-agent.conf: tools/gnupg/gpg-agent.conf
    ~/.config/mc/ini: tools/mc.ini
    /usr/local/etc/tor/torrc: tools/browser/tor/torrc
    ~/Library/ApplicationSupport/iTerm2/DynamicProfiles/custom-profiles.json:
      path: terminal/iTerm/profiles.json
    ~/.config/starship: terminal/starship
    ~/.tmuxp/configs: terminal/tmux/configs
    ~/.tmuxp/aliases: terminal/tmux/aliases
    ~/.tmux: terminal/tmux/config
    ~/.config/scripts: scripts
    ~/.curlrc: tools/curlrc
    ~/.wgetrc: tools/wgetrc
    ~/.zprezto: vendor/prezto
    ~/.bash-it: vendor/bash-it

- shell:
  # -
  #   command: brew cu -y && brew update && brew upgrade && brew cleanup
  #   stdin: true
  #   stdout: true
  #   description: Brew cleanup
  #   quiet: true
  -
    command: make install-deps
    stdin: true
    stdout: true
    description: Installing dependencies
    quiet: true
  -
    command: pyenv global && python -m pip install -U -r py/requirements.txt && pyenv rehash
    stdin: true
    stdout: true
    description: Installing dependencies & Rebuild shim files
    quiet: true
  # - [sudo chsh -s $(which zsh), Making zsh the default shell]
  -
    command: echo "My current shell is $SHELL ($0)"
    stdin: true
    stdout: true
    description: Check current shell
    quiet: true
